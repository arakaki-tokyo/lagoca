<!DOCTYPE html>
<html class="has-navbar-fixed-top">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8" />
  <title>LoGoCa</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#004422">
  <link rel="apple-touch-icon" sizes="192x192" href="img/logo192.png">
  <link rel="icon" type="image/svg+xml" href="img/favicon.svg" id="favicon">
  <script defer src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  <script defer src="index.js" onload="appInit()"></script>
  <!-- <script defer src="https://apis.google.com/js/api.js" onload="handleClientLoad()"></script> -->
  <script defer src="testing/test.js" onload="handleClientLoad()"></script>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>

<body>
  <!-- icons >> -->
  <svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <style>
      symbol{stroke-width: 0;fill: currentColor;}
    </style>
    <defs>
      <symbol id="icon-add-solid" viewBox="0 0 20 20">
        <path d="M11 9v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM10 20c-5.523 0-10-4.477-10-10s4.477-10 10-10v0c5.523 0 10 4.477 10 10s-4.477 10-10 10v0z"></path>
      </symbol>
      <symbol id="icon-add-outline" viewBox="0 0 20 20">
        <path d="M11 9h4v2h-4v4h-2v-4h-4v-2h4v-4h2v4zM10 20c-5.523 0-10-4.477-10-10s4.477-10 10-10v0c5.523 0 10 4.477 10 10s-4.477 10-10 10v0zM10 18c4.418 0 8-3.582 8-8s-3.582-8-8-8v0c-4.418 0-8 3.582-8 8s3.582 8 8 8v0z"></path>
      </symbol>
      <symbol id="icon-cog" viewBox="0 0 32 32">
        <path d="M29.181 19.070c-1.679-2.908-0.669-6.634 2.255-8.328l-3.145-5.447c-0.898 0.527-1.943 0.829-3.058 0.829-3.361 0-6.085-2.742-6.085-6.125h-6.289c0.008 1.044-0.252 2.103-0.811 3.070-1.679 2.908-5.411 3.897-8.339 2.211l-3.144 5.447c0.905 0.515 1.689 1.268 2.246 2.234 1.676 2.903 0.672 6.623-2.241 8.319l3.145 5.447c0.895-0.522 1.935-0.82 3.044-0.82 3.35 0 6.067 2.725 6.084 6.092h6.289c-0.003-1.034 0.259-2.080 0.811-3.038 1.676-2.903 5.399-3.894 8.325-2.219l3.145-5.447c-0.899-0.515-1.678-1.266-2.232-2.226zM16 22.479c-3.578 0-6.479-2.901-6.479-6.479s2.901-6.479 6.479-6.479c3.578 0 6.479 2.901 6.479 6.479s-2.901 6.479-6.479 6.479z"></path>
      </symbol>
      <symbol id="icon-plus" viewBox="0 0 32 32">
        <path d="M31 12h-11v-11c0-0.552-0.448-1-1-1h-6c-0.552 0-1 0.448-1 1v11h-11c-0.552 0-1 0.448-1 1v6c0 0.552 0.448 1 1 1h11v11c0 0.552 0.448 1 1 1h6c0.552 0 1-0.448 1-1v-11h11c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1z"></path>
      </symbol>
      <symbol id="icon-info" viewBox="0 0 32 32">
        <path d="M14 9.5c0-0.825 0.675-1.5 1.5-1.5h1c0.825 0 1.5 0.675 1.5 1.5v1c0 0.825-0.675 1.5-1.5 1.5h-1c-0.825 0-1.5-0.675-1.5-1.5v-1z"></path>
        <path d="M20 24h-8v-2h2v-6h-2v-2h6v8h2z"></path>
        <path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"></path>
      </symbol>
      <symbol id="icon-play-outline" viewBox="0 0 32 32">
        <path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z"></path>
      </symbol>
      <symbol id="icon-stop-outline" viewBox="0 0 32 32">
        <path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM10 10h12v12h-12z"></path>
      </symbol>
      <symbol id="icon-play" viewBox="0 0 32 32">
        <path d="M6 4l20 12-20 12z"></path>
      </symbol>
      <symbol id="icon-stop" viewBox="0 0 32 32">
        <path d="M4 4h24v24h-24z"></path>
      </symbol>
      <symbol id="icon-github" viewBox="0 0 32 32">
        <path d="M16 0.395c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
      </symbol>
      <symbol id="icon-quill" viewBox="0 0 32 32">
        <path d="M0 32c4-12 14.469-32 32-32-8.219 6.594-12 22-18 22s-6 0-6 0l-6 10h-2z"></path>
      </symbol>
      <symbol id="icon-accessibility" viewBox="0 0 32 32">
        <path d="M13 3c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3z"></path>
        <path d="M20 10l10.3-4.443-0.743-1.857-12.557 4.3h-2l-12.557-4.3-0.743 1.857 10.3 4.443v8l-4.102 13.268 1.87 0.709 5.804-12.977h0.857l5.804 12.977 1.87-0.709-4.102-13.268z"></path>
      </symbol>
      <symbol id="icon-left" viewBox="0 0 17 28">
        <path d="M9.797 21.5c0 0.125-0.063 0.266-0.156 0.359l-0.781 0.781c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-7.281-7.281c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l7.281-7.281c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l0.781 0.781c0.094 0.094 0.156 0.234 0.156 0.359s-0.063 0.266-0.156 0.359l-6.141 6.141 6.141 6.141c0.094 0.094 0.156 0.234 0.156 0.359zM15.797 21.5c0 0.125-0.063 0.266-0.156 0.359l-0.781 0.781c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-7.281-7.281c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l7.281-7.281c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l0.781 0.781c0.094 0.094 0.156 0.234 0.156 0.359s-0.063 0.266-0.156 0.359l-6.141 6.141 6.141 6.141c0.094 0.094 0.156 0.234 0.156 0.359z"></path>
      </symbol>
      <symbol id="icon-right" viewBox="0 0 15 28">
        <path d="M9.297 15c0 0.125-0.063 0.266-0.156 0.359l-7.281 7.281c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-0.781-0.781c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l6.141-6.141-6.141-6.141c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l0.781-0.781c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l7.281 7.281c0.094 0.094 0.156 0.234 0.156 0.359zM15.297 15c0 0.125-0.063 0.266-0.156 0.359l-7.281 7.281c-0.094 0.094-0.234 0.156-0.359 0.156s-0.266-0.063-0.359-0.156l-0.781-0.781c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l6.141-6.141-6.141-6.141c-0.094-0.094-0.156-0.234-0.156-0.359s0.063-0.266 0.156-0.359l0.781-0.781c0.094-0.094 0.234-0.156 0.359-0.156s0.266 0.063 0.359 0.156l7.281 7.281c0.094 0.094 0.156 0.234 0.156 0.359z"></path>
      </symbol>
    </defs>
  </svg>
  <!-- << icons -->
  <section style="height:100%">
    <nav class="navbar is-fixed-top">
      <div class="navbar-brand is-pulled-left">
        <img src="img/logo.svg" width="110px">
      </div>
      <div class="navbar-menu is-active is-shadowless p-2">
        <div class="navbar-end  is-flex is-flex-direction-row-reverse">
          <modal-open id="open_settings" class="mx-3 pt-1">
            <svg class="icon" fill="#AAA"><use xlink:href="#icon-cog"></use></svg>
          </modal-open>
        </div>
      </div>
    </nav>
    <div is="tab-swipeable" id="main" class="has-background-white-ter">
      <div id="tab" class="tabs is-boxed is-hidden">
        <ul class="has-background-white">
          <li data-tab="page1" class="is-active"><a>
            <svg class="icon icon-accessibility"><use xlink:href="#icon-accessibility"></use></svg>Activities
          </a></li>
          <li data-tab="page2"><a>
            <svg class="icon icon-quill"><use xlink:href="#icon-quill"></use></svg>Diary
          </a></li>
        </ul>
      </div>
      <div id="view">
        <div data-page="page1" class="page p-2">
          <div class="container">
            <div id="doing" class="is-clearfix block">
              <input type="text" is="act-summary" class="input" placeholder="title">
              <act-description class="quill_holder" placeholder="description"></act-description>
              <div class="is-pulled-left">
                <time-elapsed class="is-size-1 has-text-weight-bold mx-1"></time-elapsed>
              </div>
              <div class="is-pulled-right">
                <button is="act-end" class="button is-danger is-large has-text-weight-bold m-1 is-hidden"><svg class="icon" fill="#DDD"><use xlink:href="#icon-stop"></use></svg></button>
                <button is="act-start" class="button is-primary is-large has-text-weight-bold m-1"><svg class="icon" fill="#DDD"><use xlink:href="#icon-play"></use></svg></button>
              </div>
            </div>
            <upcoming-act-list id="upcoming_container" class="message mb-1 is-hidden">
              <h2 class="message-header is-radiusless"><label class="is-overlay has-text-centered" for="upcoming_radio">今日の予定</label></h2>
              <input type="radio" id="upcoming_radio" name="which_to_show">
              <div data-container id="upcoming">
                <template>
                  <div class="card is-shadowless">
                    <header class="card-header is-size-7" style="overflow-x: scroll;">
                      <p data-summary class="card-header-title p-1"></p>
                    </header>
                    <div class="card-content p-0">
                      <time data-time class="is-size-7"></time>
                    </div>
                    <div class="card-footer">
                      <button data-start class="card-footer-item button is-small is-link is-inverted">start</button>
                    </div>
                  </div>
                </template>
              </div>
            </upcoming-act-list>
            <done-act-list class="message m-0">
              <h2 class="message-header is-radiusless"><label class="is-overlay has-text-centered" for="done_radio">最近の活動</label></h2>
              <input type="radio" id="done_radio" name="which_to_show" checked>
              <div data-container id="done">
                <template>
                  <div data-failed-add="has-text-grey-light" class="card is-shadowless">
                    <header class="card-header is-size-7" style="overflow-x: scroll;">
                      <p data-summary data-failed-add="has-text-grey-light" class="card-header-title p-1"></p>
                    </header>
                    <div class="card-content p-0">
                      <time data-time class="is-size-7"></time>
                      <div data-description data-failed-add="has-text-grey-light" class="content p-2 is-size-7"></div>
                    </div>
                    <div class="card-footer">
                      <button data-sync data-failed-remove="is-hidden" class="card-footer-item button is-small is-danger is-inverted">Sync</button>
                      <button data-restart class="card-footer-item button is-small is-link is-inverted">restart</button>
                    </div>
                  </div>
                </template>
              </div>
            </done-act-list>
          </div>
        </div>
        <div data-page="page2" class="page p-2">
          <div is="diary-container" class="container">
            <diary-nav class="is-flex is-justify-content-space-between">
              <button data-role="yesterday" class="button"><svg class="icon has-text-grey"><use xlink:href="#icon-left"></use></svg></button>
              <input data-role="date" type="date" class="input" min="1900-01-01" style="width:160px">
              <button data-role="tomorrow" class="button"><svg class="icon has-text-grey"><use xlink:href="#icon-right"></use></svg></button>
            </diary-nav>
            <diary-desc class="quill_holder"></diary-desc>
          </div>
        </div>
      </div>
    </div>
  </section>
  <settings-modal id="settings_modal" class="modal">
    <div data-action="close" class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head p-3">
        <p class="modal-card-title is-size-6 has-text-weight-bold">設定</p>
        <button data-action="close" class="delete" aria-label="close"></button>
      </header>
      <section class="modal-card-body">
        <div data-state="logedout">
          <button data-action="signin" class="button is-link">Googleカレンダーにサインイン</button>
        </div>
        <div data-state="signedin" class="block is-hidden">
          <div class="field">
            <label class="label">User Profile</label>
            <div class="media control">
              <figure class="media-left image is-32x32 mx-2">
                <img is="user-img" class="is-rounded">
              </figure>
              <div class="media-content">
                <user-email class="has-text-weight-medium is-size-7"></user-email>
              </div>
              <div class="media-right">
                <button data-action="logout" class="button is-small">SignOut</button>
              </div>
            </div>
          </div>
          <div class="field">
            <label class="label">予定を取得するカレンダー</label>
            <div class="ml-2 control">
              <label class="checkbox"><input data-role="upcoming_enabled" type="checkbox">予定の取得を有効化</label>
            </div>
            <div class="ml-2 control">
              <div class="select">
                <select is="select-cal" data-role="upcoming_calendar_id" style="width:150px">
                  <option value="primary">default</option>
                </select>
              </div>
            </div>
          </div>
          <div class="field">
            <label class="label">ログを記録するカレンダー</label>
            <div claass="ml-2 control" style="display:flex">
              <div class="select mr-2">
                <select is="select-log" data-role="log_calendar_id" style="width:150px">
                  <option value="primary">default</option>
                </select>
              </div>
              <div class="field has-addons">
                <div class="control">
                  <input is="new-cal" id="new_calendar" class="input" type="text" placeholder="新規作成">
                </div>
                <div class="control">
                  <button is="add-cal" class="button is-info  has-text-light"><svg class="icon"><use xlink:href="#icon-add-outline"></use></svg></button>
                </div>
              </div>
            </div>
          </div>
          <div class="field">
            <label class="label">Event Color</label>
            <eve-col data-role="color_id"></eve-col>
          </div>
          <div class="field">
            <label class="label">
              <span>Diary</span>
              <tool-tip class="icon is-small has-text-info" title="一日毎のイベントとしてGoogle Calendarに登録します。"></tool-tip>
            </label>
            <div class="ml-2 control">
              <label class="checkbox"><input data-role="diary_enabled" type="checkbox">Diaryを有効化</label>
            </div>
          </div>
        </div>
        <div class="field">
          <label class="label">
            <span>通知</span>
            <tool-tip class="icon is-small has-text-info" title="通知バーなどに経過時間を表示し、すばやくアクセスできるようにします。<br>初回はデバイスで許可する必要があります。"></tool-tip>
          </label>
          <div class="ml-2 control">
            <label class="checkbox"><input is="notification-check" data-role="notification_enabled" type="checkbox">経過時間の通知を有効化</label>
          </div>
        </div>
      </section>
      <footer class="modal-card-foot">
        <button is="settings-apply" data-action="apply" class="button is-link">保存</button>
        <button data-action="close" class="button is-link is-light">キャンセル</button>
      </footer>
    </div>
  </settings-modal>
  <notice-show id="notification" class="message is-danger">
    <div class="message-header p-1 is-size-7">
      <p>Notice!</p>
    </div>
    <div id="notice_message" class="message-body p-3 is-size-7"></div>
  </notice-show>
</body>

</html>